<!DOCTYPE html>
<html lang="en">
	<head>
		 
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23296419-22"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-23296419-22');
		</script>
		 

		<title>Introduction to the TCP/IP protocol - Internal Pointers</title>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Monocasual Laboratories">
		<meta name="description" content="The official rules that allow computers to communicate over the Internet.">
		<meta name="keywords" content="networks,internet,communication,tcp/ip">
		<meta name="copyright" content="2015-2024 Monocasual Laboratories">
		<meta name="application-name" content="Internal Pointers">
		<meta name="google-site-verification" content="d6wzhBnnEXNHg7kty5SNXVBKd4e29wUFP69SROd-3eI" />

		<meta property="og:title" content="Introduction to the TCP/IP protocol" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.internalpointers.com/post/introduction-tcp-ip-protocol" />
<meta property="og:image" content="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2021/03/tcpip/tcpip.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="900" />
<meta property="og:site_name" content="Internal Pointers" />
<meta property="og:description" content="The official rules that allow computers to communicate over the Internet." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://www.internalpointers.com/post/introduction-tcp-ip-protocol" />
<meta name="twitter:title" content="Introduction to the TCP/IP protocol" />
<meta name="twitter:description" content="The official rules that allow computers to communicate over the Internet." />
<meta name="twitter:image" content="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2021/03/tcpip/tcpip.png" />

		<link rel="icon" href="/img/favicon.ico">
		<link rel="apple-touch-icon-precomposed" href="/img/favicon-152.png">
		<link rel="stylesheet" href="/main-1.4.0.css">

				
		<script defer src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script defer src="//cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
		<script defer src="/main-1.4.0.js"></script>

		

	</head>
	<body>
		<div class="ip-follow-us-popup">

    <div class="ip-follow-us-popup__side">
        <img src="/img/facebook-like-thumb.svg" alt="Like it!">
    </div>

    <div class="ip-follow-us-popup__header">
        <p>Join us on Facebook!</p>
    </div>

    <div class="ip-follow-us-popup__body">
        <div class="ip-follow-us-popup__body__ok">
        <img src="/img/facebook-like-thumb.svg" alt="Like it!">
        </div>
    </div>

    <div class="ip-follow-us-popup__footer">
        <div><a href="#" class="ip-follow-us-popup__footer__nope">Nope, thanks anyway.</a></div>
    </div>

</div>		<div class="ip-cookie-banner">
    <div class="ip-container">
        <p>We use cookies to personalise content and ads, to provide social media features and to analyse our traffic. By using our site, you acknowledge that you have read and understand our <a href="{{ url('/privacy/') }}">Privacy Policy</a>, and our <a href="{{ url('/tos/') }}">Terms of Service</a>. Your use of this site is subject to these policies and terms. | <a href="#" class="ip-cookie-banner__close">ok, got it</a></p>
    </div>
</div>		<div class="ip-header">
	<div class="ip-container">
		<div class="ip-header__logo">
			<a href="/">**internal / pointers</a>
		</div>
		<div class="ip-header__links">
			<ul>
				<li><a href="/rss">rss</a></li>
				<li><a href="/about">about</a></li>
			</ul>
		</div>
	</div>
</div>

<div class="ip-sub-header">
</div>
		<div class="ip-body">

	<div class="ip-container">

		<div class="ip-post">

			<div class="ip-post__info">
				<p>— Written by Triangles on April 27, 2021 
								• updated on May 06, 2021  
								• ID 89 —</p>
			</div>

			<div class="ip-post__title">
				<h1>Introduction to the TCP/IP protocol</h1>
			</div>

			<div class="ip-post__intro">
				<p>The official rules that allow computers to communicate over the Internet.</p>
			</div>

						<div class="ip-post__other-box">
				<div class="ip-post__other-box__section-title">Other articles from this series</div>

				<ul class="ip-post__other-box__post-list">
														<li>
						<p>
							<span class="title">
								<a href="/post/introduction-computer-networks.html">Introduction to computer networks  </a>
							</span> —
							<span class="intro">A bird's-eye view on the art of resource sharing from one computer to another. </span>
						</p>
					</li>
																			<li>
						<p>
							<span class="title">
								<a href="/post/understanding-internet.html">Understanding the Internet </a>
							</span> —
							<span class="intro">“Is that thing still around?” — Homer Simpson</span>
						</p>
					</li>
																												<li>
						<p>
							<span class="title">
								<a href="/post/introduction-ip-internet-protocol.html">Introduction to IP: the Internet Protocol</a>
							</span> —
							<span class="intro">From routing to IP addressing, a look at the protocol that gives life to the Internet.</span>
						</p>
					</li>
																			<li>
						<p>
							<span class="title">
								<a href="/post/introduction-tcp-transmission-control-protocol.html">Introduction to TCP: Transmission Control Protocol</a>
							</span> —
							<span class="intro">One of the most important, high-level protocols in the Internet Protocol Suite. </span>
						</p>
					</li>
																			<li>
						<p>
							<span class="title">
								<a href="/post/network-programming-beginners-overview.html">Network programming for beginners: introduction to sockets </a>
							</span> —
							<span class="intro">A theoretical look at one of the most popular programming tools for exchanging data over computer networks. </span>
						</p>
					</li>
																			<li>
						<p>
							<span class="title">
								<a href="/post/making-http-requests-sockets-python.html">Making HTTP requests with sockets in Python </a>
							</span> —
							<span class="intro">A practical introduction to network programming, from socket configuration to network buffers and HTTP connection modes. </span>
						</p>
					</li>
													</ul>
			</div>
			
			<div class="ip-post__body">
				<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- internalpointers responsive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1778432007040046"
     data-ad-slot="1269254897"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><p>Welcome to the third chapter of the <a href="https://internalpointers.com/post-group/networking-101">Networking 101</a> series! In the previous episode I have investigated the nature of one of the most popular <em>network of networks</em> on planet Earth known as <strong>the Internet</strong>. In this one I want to get a little more technical and understand how the Internet works under the hood.</p>
<p>The Internet is a huge collection of different networks that talk to eachother and exchange information. The result is a complex machinery that requires specific rules in order to operate correctly: those rules are called <strong>protocols</strong>. The Internet has its own protocol known as the <strong>Internet Protocol Suite</strong>, often also called the <strong>TCP/IP protocol</strong>.</p>
<h2>What is the Internet Protocol Suite, also known as the TCP/IP protocol</h2>
<p>The Internet Protocol Suite is a <em>collection of protocols</em> — that's what the word <em>suite</em> stands for — that determines how the Internet should work. The TCP/IP alias comes from two of the most important protocols the Internet Protocol Suite contains: the <strong>Transmission Control Protocol (TCP)</strong> and the <strong>Internet Protocol (IP)</strong>. From now on I will refer to it as the TCP/IP protocol stack for brevity.</p>
<p>Initially developed by the United States Department of Defense and now maintained by the <strong>Internet Engineering Task Force (IETF)</strong>, the TCP/IP protocol stack defines how data should be handled, transmitted, routed, and received over the Internet. Anything that is connected to the Internet or operates with it must comply with the rules defined in the TCP/IP protocol stack. Two machines that want to communicate over the Internet must both implement the TCP/IP protocol stack in order to talk to eachother correctly.</p>
<p>For example, the web browser you are using to read this article implements the <strong>Hypertext Transfer Protocol (HTTP)</strong>, one of the many protocols in the TCP/IP protocol stack and the foundation of the <strong>World Wide Web (WWW)</strong>. The HTTP protocol determines how the text you are reading right now should be sent from the web server — the remote computer that stores the information — to your web browser, over the Internet. The protocol also describes how your browser should talk to the web server in order to initiate the data exchange.</p>
<p>Many other software parts must be TCP/IP compliant. For example, the operating system running on your device has to implement several protocols from the TCP/IP suite, in order to provide Internet capabilities to the entire system (web browser included!).</p>
<h3>TCP/IP is about the software side of things</h3>
<p>You won't find instructions on how to build networks, how signals should travel through cables and so on: the TCP/IP protocol stack is designed to be hardware independent and may be implemented on top of any physical technology. For example, some IETF engineers during the April Fool's day designed the <a href="https://en.wikipedia.org/wiki/IP_over_Avian_Carriers"><strong>IP over Avian Carriers (IPoAC)</strong></a>: a proposal to carry Internet traffic by birds such as homing pigeons.</p>
<h2>Anatomy of the TCP/IP protocol stack</h2>
<p>Cables and computers that make up the Internet infrastructure understand a very simple binary language made of zeroes and ones, and yet we want to be able to move rich data around such as web pages, emails, movies, video calls, … in a reliable, error-free and easy to establish way. This is a complex problem that must be broken down into smaller pieces to be solved efficiently. For this reason, the TCP/IP protocol stack has been organized into <strong>four layers</strong>.</p>
<p>Each layer contains protocols that describe how to route/transmit/receive data according to a different level of abstraction. The lower the layer, the closer you are to the hardware and the more detailed the instructions are; the higher the layer, the closer you are to the human and the more abstract the communication becomes. Let's take a bottom-up look:</p>
<ol>
<li><p><strong>Link layer</strong> — also known as the <strong>physical layer</strong>, it contains protocols that operate very close to the metal. Protocols in this layer see the network as a bunch of <em>machines</em> physically linked together that exchange <em>bits of data</em>;</p>
</li>
<li><p><strong>Network layer</strong> — also known as the <strong>Internet layer</strong>, this is where the communication starts to get fancy. Protocols in this layer think in terms of <em>source networks</em> and <em>destination networks</em> and how to identify them;</p>
</li>
<li><p><strong>Transport layer</strong> — here the communication becomes even more abstract. Protocols in this layer think in terms of <em>processes</em> that talk to eachother through specific <em>channels</em>;</p>
</li>
<li><p><strong>Application layer</strong> — the most abstract layer, where protocols think in terms of <em>user services</em> that exchange <em>application data</em> over the network.</p>
</li>
</ol>
<div class="ip-img">
<img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2021/03/tcpip/tcp-ip-stack.png" alt="The TCP/IP protocol stack">
<div class="caption">1. The four layers of the TCP/IP protocol stack.</div>
</div><p>The idea behind the TCP/IP protocol stack is to use layers to abstract away the underlying complexity. Two applications that want to exchange data over the Internet will both use protocols in the layer #4, then they rely on protocols from the layers below for the actual transmission or reception. The following example will help to better understand how the whole thing works in practice.</p>
<h2>An example of the TCP/IP protocol stack in action</h2>
<p>Consider a web browser, based on the HTTP protocol (Application layer #4) that talks to a web server. When I type the website address in the address bar, the browser asks the web server for the web page the address points to. More specifically, the browser sends <em>a piece of text</em> to the web server containing the website address and other technical information. This is how the HTTP protocol defines the communication between a browser and a web server.</p>
<p>However, two machines over the Internet need more low-level work in order to talk to eachother: what does "sending a piece of text" actually mean from a computer's perspective? The HTTP protocol doesn't care about it: instead, it relies on services provided by the Transport layer (#3) below to establish a form of browser-web server connection, whatever that means.</p>
<div class="ip-img">
<img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2021/03/tcpip/tcp-ip-end-to-end.png" alt="The TCP/IP flow">
<div class="caption">2. A message that flows between two computers across the layers of the TCP/IP protocol stack.</div>
</div><p>Protocols in layer #3 solve the upper layer's problems, yet they are still far away from true machine-to-machine interaction. For example: how is the address of the web server determined? Again, the software that implements the layer #3 protocols doesn't care about it: it relies on the Network layer (#2) below to handle such details. The pattern repeats until the Link layer (#1) is reached, where the data is physically transmitted over Internet cables.</p>
<p>At this point the message is flying across the Internet infrastructure. The information will eventually reach the web server: here the software that implements the HTTP protocol will rely on the underlying layers to transform the incoming data into something that the software can understand. Once done, the server can parse the data in the Application layer (#4) and react to the web browser's request. Notice how the data here goes through the layers in reverse order.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- internalpointers responsive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1778432007040046"
     data-ad-slot="1269254897"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><h2>The power of layer abstraction</h2>
<p>The layered approach described by the TCP/IP protocol stack offers another perspective on how information flows from one end to another: protocols on the same layer exchange data across two different machines as if they were directly connected through a <em>virtual pipe</em>. This is because the underlying mechanisms of communication are abstracted away by the lower layers (picture .3 below).</p>
<div class="ip-img">
<img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2021/03/tcpip/physical-vs-logical-transmission.png" alt="Physical versus logical transmission over the TCP/IP stack">
<div class="caption">3. Physical vs. logical transmission over the TCP/IP stack.</div>
</div><p>And also:</p>
<ul>
<li>better separation of concerns — imagine if the HTTP protocol would require you to control things like error correction, encryption and other crazy low-level stuff: sending a simple request to a web server would be a huge amount of work; </li>
<li>don't repeat yourself — protocols from higher layers often rely on the same bunch of protocols from lower layers. For example, the HTTP protocol and the <strong>File Transfer Protocol (FTP)</strong> both use a specific protocol from the Transport layer (#3) for the actual transmission. This way new high-level protocols can be added to the TCP/IP stack by reusing existing low-level ones as a foundation.</li>
</ul>
<h2>Content of the TCP/IP protocol stack</h2>
<p>The table below lists few of the most important protocols contained in the TCP/IP protocol stack, along with the layer they belong to:</p>
<table>
<thead><tr>
<th>Layer</th>
<th>Protocols</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. Link</td>
<td><strong>Address Resolution Protocol (ARP)</strong> — discovers machines over a network;<br><strong>Media Access Control (MAC)</strong> — establishes a channel between machines.</td>
</tr>
<tr>
<td>2. Network</td>
<td><strong>Internet Protocol (IP)</strong> — establishes a route between two points;<br><strong>Internet Control Message Protocol (ICMP)</strong> — sends operational information (e.g. success or failure) between two points.</td>
</tr>
<tr>
<td>3. Transport</td>
<td><strong>Transmission Control Protocol (TCP)</strong> — provides reliable and ordered stream of data between machines communicating via an IP route;<br><strong>User Datagram Protocol (UDP)</strong> — same as TCP, but less reliable and unordered;</td>
</tr>
<tr>
<td>4. Application</td>
<td><strong>Hypertext Transfer Protocol (HTTP)</strong> — the foundation of the World Wide Web;<br><strong>File Transfer Protocol (FTP)</strong> — transfers files between computers;<br><strong>Secure Shell (SSH)</strong> — enables two computers to securely share data over an unsecured network;<br><strong>Voice over Internet Protocol (VoIP)</strong> — allows phone calls over an Internet connection.</td>
</tr>
</tbody>
</table>
<h2>How data is sent around the Internet</h2>
<p>The TCP/IP protocol stack wants the data to be split into chunks called <strong>packets</strong> or, more formally, <strong>protocol data units (PDU)</strong>. In telecommunication, the method of transmitting data into packets is called <strong>packet switching</strong>. The benefit of this technique is that data can be routed to a destination through any number of transmission points, making the network more resistant to hardware failure.</p>
<p>Beyond actual data, protocols need to exchange information between the sender and the receiver in order to work correctly. For this reason, each packet is made of a <strong>header</strong> and a <strong>payload</strong>. The header contains instructions relevant to the protocol in use, the payload contains a portion of the message to be delivered. Programs that implement the TCP/IP protocol stack take care of filling the headers with the right information and splitting the data into packets.</p>
<h3>Packet encapsulation, or how to add headers to data</h3>
<p>Packets are generated in the Application layer (#4) during an outgoing transmission. As they slide down the stack, the protocols at each layer wrap those packets with their headers. The process is known as <strong>encapsulation</strong> and works like the <a href="https://en.wikipedia.org/wiki/Matryoshka_doll">Russian dolls</a> where each doll contains another smaller doll inside of it. Data coming out the last layer contains all the headers added by the protocols above.</p>
<div class="ip-img">
<img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2021/03/tcpip/tcp-ip-encapsulation.png" alt="Packet encapsulation">
<div class="caption">4. Packet encapsulation performed on the sender's side.</div>
</div><p>As soon as the data approaches the destination machine, the inverse process known as <strong>decapsulation</strong> begins. The Link layer (#1) receives the data from the network, reads the instructions written in the packet header in order to perform its own duties and <em>peels</em> the header off of the packet. The peeled data is then passed to the upper layer: the pattern repeats until the naked data reaches the Application layer (#4) on the receiver side. Here the information is identical to what has been sent by the sender and can be processed by the receiver's application.</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- internalpointers responsive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1778432007040046"
     data-ad-slot="1269254897"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script><h2>What's next?</h2>
<p>This article wanted to be a kind of lightweight introduction to the TCP/IP protocol. In the next few ones I plan to investigate two of the most important components it is made of, namely the TCP and the IP protocols. Once the abstract exploration is done, I will get my hands dirty with something ever cooler known as <strong>network programming</strong>: writing programs that work over the Internet. See you on the next episode!</p>
<h2>Sources</h2>
<p><a href="https://www.amazon.com/Computer-Networks-5th-Andrew-Tanenbaum/dp/0132126958">Computer Networks — A. Tanenbaum, D. Wetherall</a><br>
<a href="https://en.wikipedia.org/wiki/Internet_protocol_suite">Wikipedia — Internet Protocol Suite</a><br>
<a href="https://en.wikipedia.org/wiki/Encapsulation_%28networking%29">Wikipedia — Encapsulation (networking)</a><br>
<a href="https://docs.oracle.com/cd/E19455-01/806-0916/ipov-32/index.html">Oracle — Data Encapsulation and the TCP/IP Protocol Stack</a><br>
<a href="https://www.itprc.com/how-encapsulation-works-within-the-tcpip-model/">ITPRC — How Encapsulation Works Within the TCP/IP Model</a><br>
<a href="https://whatismyipaddress.com/tcp-ip">whatismyipaddress — What is a TCP/IP Packet?</a></p>
			</div>


			<div class="ip-post__tags">
								<a class="ip-tag" href="/tag/networks.html">networks</a>
				 • 								<a class="ip-tag" href="/tag/internet.html">internet</a>
				 • 								<a class="ip-tag" href="/tag/communication.html">communication</a>
				 • 								<a class="ip-tag" href="/tag/tcp-ip.html">tcp/ip</a>
											</div>

			<div class="ip-post__neighbor-posts">
								<div class="ip-post__neighbor-posts__prev">
					<div class="ip-post__neighbor-posts__prev__label">
						previous article
					</div>
					<div class="ip-post__neighbor-posts__prev__title">          
						<a href="/post/understanding-internet.html">Understanding the Internet </a>
					</div>
				</div>
								
								<div class="ip-post__neighbor-posts__next">
					<div class="ip-post__neighbor-posts__next__label">
						next article
					</div>
					<div class="ip-post__neighbor-posts__next__title">          
						<a href="/post/introduction-ip-internet-protocol.html">Introduction to IP: the Internet Protocol</a>
					</div>
				</div>
							</div>
			
						<div class="ip-post__comments">
				<div class="ip-post__comments__title">
					comments
				</div>
				
							</div>
			
			<div class="ip-post__social-tools">
				<div class="ip-post__social-tools__title">
					share!
				</div>
				<div class="ip-post__social-tools__twitter item"></div>
			</div>

		</div>

	</div>

</div>

		<div class="ip-footer">
	<div class="ip-container">
		© 2015-2024 — Monocasual Laboratories — 
		<a href="/tos" rel="nofollow">terms of service</a> — 
		<a href="/privacy" rel="nofollow">privacy policy</a> — 
		<a href="/about">about</a> — 
		<a href="/rss">RSS feed</a>
	</div>
</div>
	</body>
</html>

